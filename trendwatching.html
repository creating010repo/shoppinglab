<head>
  <title>ShoppingLab</title>
</head>

<body>
  <div class="container">
		<div class="navbar-header">
		  <h1>ShoppingLab - trend upload</h1>
		  {{> loginButtons}}
	  </div>
	  </div>
	<div class="container">  
		<div class="row">
			{{> imageUpload}}
			{{> imageListing}}
		</div>		  	
	</div>	
</body>

<template name="imageUpload">
	<div class="col-md-4">
		<form id="uploadForm" onsubmit="return false;" method="post">
				<div class="form-group">
					<label for="uploadFile">Image upload</label>
					<input type="file" id="uploadFile"/>
				</div>
				<div class="form-group">
				  {{> geocompleteExample}}
			  </div>
				<div class="form-group">
					<label for="sourceURL">Internet source</label>
					<input type="text" name="source" id="sourceURL" placeholder="Internet source"/>
				</div>
				<div class="form-group">
					<label for="tag1">Tag1</label>
					<input type="text" name="tag1" id="tag1" placeholder="Tag 1"/>
				</div>	
				<div class="form-group">
					<label for="tag2">Tag2</label>
					<input type="text" name="tag2" id="tag2" placeholder="Tag 2"/>
				</div>	
				<div class="form-group">
					<label for="tag3">Tag3</label>
					<input type="text" name="tag3" id="tag3" placeholder="Tag 3"/>
				</div>
				<button class="btn btn-default" id="uploadSubmit">Upload</button>	

		</form>
		{{#if imageId}}
			<div id='imageUploadContainer'>
				Upload successful!<br/>
				<img class="img-responsive" src="{{c.url imageId format=format}}">
			</div>
		{{/if}}
	</div>
</template>

<template name="imageListing">
	  {{#each imageEntries}}
	    {{> imageDisplay}}
	  {{/each}}
</template>

<template name="imageDisplay">
	<div class="col-sm-6 col-md-4">
		{{#if public_id}}
		<div class="thumbnail">	
			<div class="imageListElement">
					<img class="img-responsive" src="{{c.url public_id format=format}}">
			</div>
			<div class="caption">
				<div class="tags label label-default">{{tagNames tags}}</div>
			</div>
		</div>
		{{/if}}
	</div>	
</template>

<template name="geocompleteExample">
  <input id="place2" type="text" name="place" placeholder="Type the location...">
  <div id="map"></div>
</template>